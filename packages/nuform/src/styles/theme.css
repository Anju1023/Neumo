/* ===================================
   Nuform - テーマ変数のみ（Tailwindなし）
   他のフレームワークと組み合わせて使う用
   =================================== */

/* ===================================
   @theme - Tailwindテーマ変数の定義
   =================================== */
@theme {
  /* --------------------------------
     カラー - サーフェス
     -------------------------------- */
  --color-nuform-bg: #EEF2F6;
  --color-nuform-bg-dark: #1a1a2e;

  /* --------------------------------
     カラー - テキスト
     -------------------------------- */
  --color-nuform-text: #334155;
  --color-nuform-text-muted: #64748B;
  --color-nuform-text-dark: #e2e8f0;

  /* --------------------------------
     カラー - アクセント
     -------------------------------- */
  --color-nuform-primary: #4F46E5;
  --color-nuform-primary-hover: #4338CA;
  --color-nuform-success: #10B981;
  --color-nuform-warning: #F59E0B;
  --color-nuform-error: #EF4444;
  --color-nuform-info: #3B82F6;

  /* --------------------------------
     スペーシング
     -------------------------------- */
  --spacing-nuform-xs: 4px;
  --spacing-nuform-sm: 8px;
  --spacing-nuform-md: 16px;
  --spacing-nuform-lg: 24px;
  --spacing-nuform-xl: 32px;

  /* --------------------------------
     角丸
     -------------------------------- */
  --radius-nuform-sm: 8px;
  --radius-nuform-md: 12px;
  --radius-nuform-lg: 16px;
  --radius-nuform-xl: 24px;
  --radius-nuform-full: 9999px;

  /* --------------------------------
     フォントサイズ
     -------------------------------- */
  --font-size-nuform-xs: 0.75rem;
  --font-size-nuform-sm: 0.875rem;
  --font-size-nuform-md: 1rem;
  --font-size-nuform-lg: 1.125rem;
  --font-size-nuform-xl: 1.25rem;

  /* --------------------------------
     トランジション
     -------------------------------- */
  --transition-timing-nuform-fast: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  --transition-timing-nuform-default: 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  --transition-timing-nuform-slow: 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);

  /* --------------------------------
     アニメーション
     -------------------------------- */
  --animate-nuform-spin: nuform-spin 1s linear infinite;
  --animate-nuform-blob: nuform-blob 7s infinite;
}

/* ===================================
   ベースCSS変数（シャドウ用）
   @themeでは複雑なシャドウ値を定義できないため、
   :rootで定義してarbitrary valuesで参照
   =================================== */
:root {
  /* シャドウカラー - 青みのあるグレーベースに調整 */
  --nuform-shadow-light: #FFFFFF;
  --nuform-shadow-dark: rgba(166, 175, 186, 0.5);

  /* ダークモード用シャドウ */
  --nuform-shadow-light-dark: rgba(45, 45, 70, 0.3);
  --nuform-shadow-dark-dark: rgba(10, 10, 20, 0.5);

  /* エレベーション - 浮き出し */
  --nuform-elevation-1: 
    3px 3px 6px var(--nuform-shadow-dark),
    -3px -3px 6px var(--nuform-shadow-light);
  
  --nuform-elevation-2: 
    6px 6px 12px var(--nuform-shadow-dark),
    -6px -6px 12px var(--nuform-shadow-light);
  
  --nuform-elevation-3: 
    10px 10px 20px var(--nuform-shadow-dark),
    -10px -10px 20px var(--nuform-shadow-light);

  /* エレベーション - 凹み（インセット） */
  --nuform-elevation-inset: 
    inset 4px 4px 8px var(--nuform-shadow-dark),
    inset -4px -4px 8px var(--nuform-shadow-light);
    
  --nuform-elevation-inset-sm: 
    inset 2px 2px 4px var(--nuform-shadow-dark),
    inset -2px -2px 4px var(--nuform-shadow-light);

  /* インタラクション用シャドウ */
  --nuform-elevation-hover: 
    8px 8px 16px var(--nuform-shadow-dark),
    -8px -8px 16px var(--nuform-shadow-light),
    0 -1px 0 rgba(255, 255, 255, 0.5); /* 浮遊感強調 */

  --nuform-elevation-active: 
    inset 3px 3px 6px var(--nuform-shadow-dark),
    inset -3px -3px 6px var(--nuform-shadow-light);

  /* フォーカスリング */
  --nuform-focus-ring: 0 0 0 3px rgba(79, 70, 229, 0.3);
}

/* ダークモード対応 */
@media (prefers-color-scheme: dark) {
  :root {
    --nuform-shadow-light: var(--nuform-shadow-light-dark);
    --nuform-shadow-dark: var(--nuform-shadow-dark-dark);
  }
}

/* .dark クラスでの手動切り替え対応 */
.dark {
  --nuform-shadow-light: var(--nuform-shadow-light-dark);
  --nuform-shadow-dark: var(--nuform-shadow-dark-dark);
}

/* ===================================
   カスタムユーティリティクラス
   =================================== */
@utility nuform-elevation-1 {
  box-shadow: var(--nuform-elevation-1);
}

@utility nuform-elevation-2 {
  box-shadow: var(--nuform-elevation-2);
}

@utility nuform-elevation-3 {
  box-shadow: var(--nuform-elevation-3);
}

@utility nuform-elevation-inset {
  box-shadow: var(--nuform-elevation-inset);
}

@utility nuform-elevation-inset-sm {
  box-shadow: var(--nuform-elevation-inset-sm);
}

@utility nuform-elevation-hover {
  box-shadow: var(--nuform-elevation-hover);
}

@utility nuform-elevation-active {
  box-shadow: var(--nuform-elevation-active);
  transform: translateY(0); /* 押し込み */
}

@utility nuform-focus-ring {
  box-shadow: var(--nuform-focus-ring), var(--nuform-elevation-1);
}

@utility animation-delay-2000 {
  animation-delay: 2s;
}

@utility animation-delay-4000 {
  animation-delay: 4s;
}

/* ===================================
   キーフレームアニメーション
   =================================== */
@keyframes nuform-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes nuform-blob {
  0% { transform: translate(0px, 0px) scale(1); }
  33% { transform: translate(30px, -50px) scale(1.1); }
  66% { transform: translate(-20px, 20px) scale(0.9); }
  100% { transform: translate(0px, 0px) scale(1); }
}

/* ===================================
   アクセシビリティ - モーション軽減
   =================================== */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
